var app = angular.module('nourishd', ['ngRoute', 'ng-token-auth', 'ngFileUpload', 'ngAnimate']);

app.config(['$routeProvider', '$authProvider', function($routeProvider, $authProvider) {
  // Configure Angular Routes
  $routeProvider.
    when('/', {
      templateUrl: "<%= asset_path('static_pages/index.html') %>",
      controller: 'StaticPagesCtrl'
    }).
    when('/signup', {
      templateUrl: "<%= asset_path('auth/signup.html') %>",
      controller: 'SignUpCtrl'
    }).
    when('/login', {
      templateUrl: "<%= asset_path('auth/login.html') %>",
      controller: 'LoginCtrl'
    }).
    when('/newrecipe', {
      templateUrl: "<%= asset_path('recipes/new.html') %>",
      controller: 'NewRecipeCtrl'
    }).
    when('/mychallenges', {
      templateUrl: "<%= asset_path('recipes/index.html') %>",
      controller: 'ChallengesCtrl'
    }).
    when('/dashboard', {
      templateUrl: "<%= asset_path('profile/dashboard.html') %>",
      controller: 'DashCtrl'
    });

  $authProvider.configure({
    apiUrl: 'http://localhost:3000',
    forceHardRedirect: true,
    authProviderPaths: {
        facebook: '/auth/facebook'
    }
  });

  // app.filter('custom', function() {
  // return function(input, search) {
  //   if (!input) return input;
  //   if (!search) return input;
  //   var expected = ('' + search).toLowerCase();
  //   var result = {};
  //   angular.forEach(input, function(value, key) {
  //     var actual = ('' + value).toLowerCase();
  //     if (actual.indexOf(expected) !== -1) {
  //       result[key] = value;
  //     }
  //   });
  //   return result;
  // };
// });
}]);